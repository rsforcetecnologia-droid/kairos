import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as d}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as l,signInWithEmailAndPassword as m}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";const c={apiKey:"AIzaSyAlJaPEW5-yOb-8wkB8EJZhAML2M2yI8Ao",authDomain:"kairos-system.firebaseapp.com",projectId:"kairos-system",storageBucket:"kairos-system.firebasestorage.app",messagingSenderId:"603994960586",appId:"1:603994960586:web:30d2c030eed3c55eccfa33",measurementId:"G-SVHFXKV5EC"},u=d(c),s=l(u),g=document.getElementById("loginForm"),t=document.getElementById("loginButton"),n=t.querySelector("span"),e=document.getElementById("errorMessage");g.addEventListener("submit",async o=>{o.preventDefault();const a=document.getElementById("email").value,i=document.getElementById("password").value;t.disabled=!0,n.textContent="A entrar...",e.classList.add("hidden");try{(await(await m(s,a,i)).user.getIdTokenResult(!0)).claims.role==="super-admin"?window.location.href="/admin":(e.textContent="Acesso negado. Permissões insuficientes.",e.classList.remove("hidden"),s.signOut())}catch{e.textContent="E-mail ou senha inválidos.",e.classList.remove("hidden")}finally{t.disabled=!1,n.textContent="Entrar"}});
