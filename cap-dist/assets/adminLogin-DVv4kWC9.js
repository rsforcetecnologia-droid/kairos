import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as d}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as l,signInWithEmailAndPassword as u}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";const c={apiKey:"AIzaSyBmeKlOJ_kMshsuintO0j8CXOvM9ywBMnk",authDomain:"kairos-agenda-us.firebaseapp.com",projectId:"kairos-agenda-us",storageBucket:"kairos-agenda-us.firebasestorage.app",messagingSenderId:"407358446276",appId:"1:407358446276:web:c6229ea999b56701558791"},m=d(c),s=l(m),g=document.getElementById("loginForm"),t=document.getElementById("loginButton"),o=t.querySelector("span"),e=document.getElementById("errorMessage");g.addEventListener("submit",async a=>{a.preventDefault();const i=document.getElementById("email").value,r=document.getElementById("password").value;t.disabled=!0,o.textContent="A entrar...",e.classList.add("hidden");try{(await(await u(s,i,r)).user.getIdTokenResult(!0)).claims.role==="super-admin"?window.location.href="/admin":(e.textContent="Acesso negado. Permissões insuficientes.",e.classList.remove("hidden"),s.signOut())}catch(n){console.error(n),e.textContent="E-mail ou senha inválidos.",e.classList.remove("hidden")}finally{t.disabled=!1,o.textContent="Entrar"}});
